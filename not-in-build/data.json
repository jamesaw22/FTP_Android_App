var http = require('http');

var data = {
    "runs": 300,
    "wickets": 3,
    "lastover": 20,
    "lastoverruns": 3,
    "runrate": 3.50,
    "batterstrike": {
        "name": "Joe Bloggs",
        "score": 34,
        "balls": 40
    },
    "batternonstrike": {
        "name": "Bob Upanddown",
        "score": 0,
        "balls": 10
    },
    "bowler": {
        "overs": 9.1,
        "runs": 45,
        "wickets": 2,
        "run-rate": 5.00
    }
};

function randBetween(min, max) {
    return Math.floor(Math.random() * max) + min;
}

var app = http.createServer(function(req, res) {
    data.runrate = randBetween(100, 600) / 100;
    data.lastover = randBetween(0, 50);
    data.runs = (data.runrate * data.lastover).toFixed();
    data.wickets = randBetween(0, 10);
    data.lastoverruns = randBetween(0, 8);


    res.setHeader('Content-Type', 'application/json');
    res.end(JSON.stringify(data, null, 3));
});
app.listen(9899);